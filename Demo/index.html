<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<!--<meta http-equiv="X-UA-Compatible" content="IE=IE8">-->
	<title>TUI library</title>
	<link rel="stylesheet" href="../tui/css/tui.min.css" type="text/css" />
	<link href="../Scripts/font-awesome-4.0.3/css/font-awesome.css" rel="stylesheet">
	<script src="../Scripts/json2.js"></script>
	<!--[if lt IE 9]>
		<script src="/tui/html5shiv.min.js"></script>
	<![endif]-->
	<script src="../Scripts/jquery-1.11.0.js"></script>
	<link rel="stylesheet" href="../Scripts/CodeMirror/codemirror.css">
	<script src="../Scripts/CodeMirror/codemirror.js"></script>
	<script src="../Scripts/CodeMirror/mode/xml/xml.js"></script>
	<script src="../Scripts/CodeMirror/mode/javascript/javascript.js"></script>
	<script src="../Scripts/CodeMirror/mode/css/css.js"></script>
	<script src="../Scripts/CodeMirror/mode/htmlmixed/htmlmixed.js"></script>
	<!--#TUI BEGIN#-->
	<script src="../tui/tui.core.js"></script>
	<script src="../tui/tui.time.js"></script>
	<script src="../tui/tui.ctrl.control.js"></script>
	<script src="../tui/tui.ctrl.button.js"></script>
	<script src="../tui/tui.ctrl.checkbox.js"></script>
	<script src="../tui/tui.ctrl.radiobox.js"></script>
	<script src="../tui/tui.ctrl.popup.js"></script>
	<script src="../tui/tui.ctrl.calendar.js"></script>
	<script src="../tui/tui.upload.js"></script>
	<script src="../tui/tui.ctrl.input.js"></script>
	<script src="../tui/tui.ctrl.textarea.js"></script>
	<script src="../tui/tui.ctrl.dialog.js"></script>
	<script src="../tui/tui.ctrl.scrollbar.js"></script>
	<script src="../tui/tui.ctrl.table.js"></script>
	<script src="../tui/tui.dataprovider.js"></script>
	<script src="../tui/tui.ctrl.grid.js"></script>
	<script src="../tui/tui.ctrl.list.js"></script>
	<!--#TUI END#-->
	<script src="../tui/lang/zh-cn.js"></script>
	<script src="../tui/lang/en-us.js"></script>
	<script>
		//tui.lang = "zh-cn";
		$(function () {
			var mixedMode = {
				name: "htmlmixed",
				scriptTypes: [{
					matches: /\/x-handlebars-template|\/x-mustache/i,
					mode: null
				}]
			};
			var editor = CodeMirror.fromTextArea(
				document.getElementById("formCode"), {
				mode: mixedMode,
				tabMode: "indent",
				lineNumbers: true,
				readOnly: true
			});


			tui.on("btnTest btnB btnA", function (e) {
				$("#info").append(e.name + " action fired!<br>");
				var pop = tui.ctrl.popup();
				pop.show("<div style='width:200px;height:200px;'><a id='btnA' class='tui-button'>test</a></div>", e.ctrl, "Rb");
			});

			tui.ctrl.button("btnFire").on("click", function (e) {
				$("#info").append("btnFile clicked!<br>");
			});

			tui.ctrl.input("fileInput").on("complete", function (data) {
				$("#info").append(tui.format("Change {0} ,ext: {1}, fileid: {2}!<br>", data.file, data.ext, data.response.fileId));
			});

			tui.on("btnVerify", function (e) {
				$("#dlgResource .tui-input, #dlgResource .tui-textarea").each(function (index, elem) {
					tui.ctrl.input(elem).validate();
				});
			});

			tui.on("btnShowResource", function (e) {
				var dlg = tui.ctrl.dialog();
				dlg.showResource("dlgResource", "测试资源");
			});

			tui.on("btninfo", function (e) {
				tui.infobox("这是一个测试消息", "测试一下消息框");
			});
			tui.on("btnerr", function (e) {
				tui.errbox("这是一个测试消息", "测试一下消息框");
			});
			tui.on("btnwarn", function (e) {
				tui.warnbox("这是一个测试消息", "测试一下消息框");
			});
			tui.on("btnask", function (e) {
				tui.askbox("这是一个测试消息", "测试一下消息框");
			});
			tui.on("btnwait", function (e) {
				var dlg = tui.waitbox("正在加载，请稍候...");
				setTimeout(function () {
					dlg.close();
				}, 1000);
			});


			var cursor = new tui.RemoteCursorProvider();
			var sum = 0;
			cursor.onquery(function (queryInfo) {
				function buildRows(index, length) {
					var result = [];
					for (var i = 0; i < length; i++) {
						result.push([index + i, 'col b', 'col c', 'col d']);
					}
					return result;
				}
				setTimeout(function () {
					var info = {
						data: buildRows(queryInfo.begin, queryInfo.cacheSize),
						length: 10000000,
						begin: queryInfo.begin,
						head: ["a", "b", "c", "d"]
					};
					queryInfo.update(info);
				}, 50);
				console.log("Request times: " + (sum++));
			});
			var grid = tui.ctrl.grid("gridTest").data(cursor);


			tui.on("btnGrid", function (data) {
				grid.hasHScroll(data.ctrl._ctrl.checked());
			});
		});
	</script>
	<style>
		.tui-container {
			margin-left:300px;
			padding-bottom:200px;
		}
		.tui-sidebar {
			position:fixed;
			left:40px;
			top:40px;
			width:200px;
		}
	</style>
	
</head>
<body class="tui-container">
	<div class="tui-sidebar">
		<div><a href="#showButton">按钮</a></div>
		<div><a href="#showButtonGroup">按钮组</a></div>
		<div><a href="#showCalendar">日历</a></div>
		<div><a href="#showTooltip">工具提示</a></div>
		<div><a href="#showInput">输入框</a></div>
		<div><a href="#showDialog">对话框</a></div>
		<div><a href="#showTable">常规表格</a></div>
		<div><a href="#showGrid">数据网格</a></div>
		<div><a href="#showList">列表框</a></div>
		<div><a href="#showForm">表单</a> <i style="color:red">(Feature)</i></div>
	</div>
	<h1>TUI Control library</h1>

	<hr>
	<h2 id="showButton">按钮</h2>

	<button id="btnFire" class="tui-button tui-primary"><i class="fa fa-camera-retro"></i> Click</button>
	<button id="btnTest" class="tui-button"><i class="fa fa-check"></i> 复选框</button>
	<button id="btnB" class="tui-button tui-danger">危险</button>
	<a id="btnA" class="tui-button tui-warning">警告</a>
	<span id="btnTest" class="tui-button tui-success">成功</span>
	<a class="tui-checkbox">选项1</a><a class="tui-checkbox">选项2</a>
	<a class="tui-radiobox" data-group="abc">选项1</a><a class="tui-radiobox" data-group="abc">选项2</a>
	
	<hr>
	<h2 id="showButtonGroup">按钮组</h2>

	<div class="tui-btn-group">
		<a class="tui-button"><i class="fa fa-list"></i> 列表</a>
		<a class="tui-button"><i class="fa fa-font"></i></a>
		<a class="tui-button"><i class="fa fa-italic"></i></a>
		<a class="tui-button"><i class="fa fa-indent"></i></a>
	</div>

	<hr>
	<h2 id="showCalendar">日历</h2>

	<div class="tui-calendar"></div>


	<hr>
	<h2 id="showTooltip">工具提示</h2>

	<p>这里演示工具提示，鼠标移动到<a style="border-bottom:3px double red;" data-tooltip="一个小小的工具提示">这里</a>可以看见效果。</p>
	<b>使用</b>: 在任何标签上添加 data-tooltip="&lt;提示文字&gt;" 属性即可。
	<hr>
	<h2 id="showInput">输入框</h2>

	<div id="dlgResource">
		<div class="tui-input"
				data-type="text"
				data-placeholder="用户名称"
				data-validator="{'*any':'请输入用户名','*email':'必须是邮件格式'}"></div>
		<div class="tui-input" data-type="password" data-placeholder="用户密码"
				data-validator='{"*any":"请输入密码","*password":"密码必须包含数字英文大小写和符号且不能小于6位"}'></div>
		<div class="tui-input" data-type="calendar"
				data-placeholder="请选择日期" data-validator="{'*any':'请选择日期'}"></div>
		<div id="select1" data-placeholder="请选择项目" class="tui-input"
			 data-type="select"
			 data-data="[
				{key:1, value:'选项1', checked:false, children:[
						{key:4, value:'选项4', checked: false },
						{key:5, value:'选项5', checked: false },
					]},
				{key:2, value:'选项2', checked:false },
				{key:3, value:'选项3', checked:false}
			 ]"></div>
		<br>
		<div id="select2" data-placeholder="请选择项目" class="tui-input"
			 data-type="multi-select" 
			 data-data="[
				{key:1, value:'选项1', checked:false, children:[
						{key:4, value:'选项4', checked: false },
						{key:5, value:'选项5', checked: false },
					]},
				{key:2, value:'选项2', checked:false },
				{key:3, value:'选项3', checked:false}
			 ]"></div>
		<div id="fileInput" class="tui-input" data-type="file"
			 data-upload-url="upload.ashx" data-accept="image/png"
			 data-placeholder="请选择文件" data-validator="{'.*\.png$':'请选择PNG文件'}"></div>
		<div class="tui-input" data-type="custom-text"
				data-placeholder="请输入" data-icon="fa-search"></div>
		<div class="tui-input" data-type="custom-select"
				data-placeholder="请选择" data-icon="fa-user"></div>
		<div class="tui-textarea" style="max-height:200px;" 
			 data-placeholder="请输入一段文字描述" 
			 data-validator="{'*any': '请输入文字内容'}"></div>
		<a id="btnVerify" class="tui-button">输入校验</a>
	</div>

	<hr>
	<h2 id="showDialog">对话框</h2>

	<a id="btnShowResource" class="tui-button">输入界面放入对话框</a>
	<a id="btninfo" class="tui-button">消息</a>
	<a id="btnerr" class="tui-button">错误</a>
	<a id="btnwarn" class="tui-button">警告</a>
	<a id="btnask" class="tui-button">询问</a>
	<a id="btnwait" class="tui-button">等待</a>

	<hr>
	<h2 id="showTable">常规表格</h2>

	<div class="tui-inline">
		<table class="tui-table" style="width:700px" data-resizable="true">
			<tr>
				<th style="width:200px"><div>某个列1</div></th>
				<th><div>某个列2</div></th>
				<th><div>某个列3</div></th>
				<th><div>某个列4</div></th>
				<th><div>某个列5</div></th>
			</tr>
			<tr>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
			</tr>
			<tr>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
			</tr>
			<tr>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
			</tr>
			<tr>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
				<td><div>一些表格数据</div></td>
			</tr>
		</table>
	</div>

	<hr>
	<h2 id="showGrid">数据网格</h2>
	简单的数据表格，支持滚动，自动排序，改变列宽，自定义绘制特特色。<br><br>
	<div id="gridDemo1"
		 class="tui-grid" style="display:inline-block;width:500px;height:272px;"
		 data-columns="[{'name':'姓名', 'sort':true, 'key': 0 },
			{'name':'年龄', 'sort':true, 'key': 1 },
			{'name':'性别', 'key': 2 },
			{'name':'身高', 'key': 3 }]"
		 data-data="[
			['张三',29,'男',173],
			 ['李四',23,'男',172],
			 ['王五',15,'男',174],
			 ['赵六',33,'男',176],
			 ['薛丁山',20,'男',179],
			 ['樊梨花',18,'男',172],
			 ['薛仁贵',40,'男',182],
			 ['薛平贵',40,'男',180]
		 ]"
		 data-resizable="true"
		 data-rowselectable="true">
	</div><br><br>

	<div>这里给出了如果你有<b style="color:red">1千万条</b>记录，应该如何展示。使用翻页，手指会断的。</div>
	<a id="btnGrid" class="tui-checkbox">水平滚动条</a><br>
	<div id="gridTest"
		 class="tui-grid" style="display:inline-block;width:500px;height:300px;"
		 data-columns="[{'name':'序号列', 'key': 0, 'width':200 },
		{'name':'其它列1', 'key': 1 },
		{'name':'其它列2', 'key': 2 },
		{'name':'其它列3', 'key': 3 }]"
		 data-resizable="true"
		 data-rowselectable="true"
		 data-has-hscroll="false">
	</div>

	<hr>
	<h2 id="showList">列表框</h2>

	<div style="display:inline-block;padding-right:20px;">
		<div style="padding:10px;">三态列表框</div>
		<div id="listdiv" class="tui-list"
			 style="display:inline-block;width:200px;height:300px;"
			 data-data="[
				{key:1, value:'选项1', checked:false, children:[
						{key:4, value:'选项4', checked: false },
						{key:5, value:'选项5', checked: false },
					]},
				{key:2, value:'选项2', checked:false },
				{key:3, value:'选项3', checked:false}
			 ]"
			 data-tri-state="true">
		</div>
	</div>
	<div style="display:inline-block;padding-right:20px;">
		<div style="padding:10px;">非三态列表框</div>
		<div id="listdiv1" class="tui-list"
			 style="display:inline-block;width:200px;height:300px;"
			 data-data="[
				{key:1, value:'选项1', checked:false, children:[
						{key:4, value:'选项4', checked: false },
						{key:5, value:'选项5', checked: false },
					]},
				{key:2, value:'选项2', checked:false },
				{key:3, value:'选项3', checked:false}
			 ]">
		</div>
	</div>
	<div style="display:inline-block;">
		<div style="padding:10px;">普通列表框</div>
		<div id="listdiv2" class="tui-list"
			 style="display:inline-block;width:200px;height:300px;"
			 data-data="[
				{value:'选项1'},
				{value:'选项2'},
				{value:'选项3'}
			 ]">
		</div>
	</div>

	<hr>
	<h2 id="showForm">数据表单</h2>

	<ul>
		<li>
			表单可以用在很多地方，数据的增删改查都可以使用表单系统，TUI集成的表单和HTML原有的FORM并不相同，
			TUI-FORM使用分散的组织结构，并不要求组成数据都写入表单标签之内。这样设计页面的时候可以单独把所有表单标签放在一起，
			组成一个交互区，也就是说所有向服务器发起请求的地方都在一起，更加便于维护。同时这么做也增强了灵活性，原有的FORM只能提交内部的控件数据，如果多个表单共用一些控件的时候会比较不方便。
		</li>
		<li>TUI表单还实现了数据到JSON格式的自动序列化和反序列化功能，一个表单既可以完成数据的采集又可以作为返回数据的显示。</li>
	</ul>
	<div class="tui-panel" data-title="看下面的例子" style="margin:0 20px;">
		<textarea id="formCode">
输入查询条件：

<div id="text1" class="tui-input" 
	data-type="text"
	data-validator="{'*any': '请输入文字内容'}"
	data-ajax-form="queryForm"
	data-ajax-field="name"></div>
<div id="text2" class="tui-input"
	data-type="text" 
	data-ajax-form="queryForm"
	data-ajax-field="age"></div>

显示一个查询按钮，点击按钮会导致 'queryForm' 提交：

<a class="tui-button" data-submit-form="queryForm">提交</a>

查询结果显示：

<div id="result" class="tui-grid" 
	 data-columns="[
		{'name':'姓名', 'key': 0 },
		{'name':'年龄', 'key': 1 }
	 ]"></div>

下面定义表单:

<span id="queryForm" class="tui-form"
		data-action="http://someurl/someaction"
		data-method="post"
		data-target="result"></span>
</textarea>
	</div>
	<p>
		上面这段代码实现了输入两个查询条件，自动输入校验，提交查询，然后返回一个记录集并显示到数据网格中的过程。<br>
		在表单 queryForm 中的data-target指定了返回的结果应该被显示到的目标对象，
		这个对象可以是任何拥有 value 接口的 TUI 控件，或者是个普通的HTML标签，
		如果是普通的HTML标签，则只是简单的把数据序列化为JSON字符串，
		然后填充到 data-value 属性中。表单的data-target如果指定为另一个表单，则会把返回的数据分解到目标表单的各个控件中。<br>
		这就是表单控件的一个特性：<b>无脚本AJAX提交</b>
	</p>
	<p>下面来做个测试：
		</p>
	姓名：<div id="text1" class="tui-input"
		 data-type="text"
		 data-validator="{'*any': '请输入文字内容'}"
		 data-ajax-form="queryForm"
		 data-ajax-field="name"></div>
	年龄：<div id="text2" class="tui-input"
		 data-type="text"
		 data-ajax-form="queryForm"
		 data-ajax-field="age"></div>
	<a class="tui-button" data-submit-form="queryForm">提交</a>
	<br><br>
	<div id="result" class="tui-grid"
		 data-columns="[
		{'name':'姓名', 'key': 0 },
		{'name':'年龄', 'key': 1 }
	 ]" data-resizable="true" style="height:200px;width:600px;"></div>

	<span id="queryForm" class="tui-form"
		  data-action="http://someurl/someaction"
		  data-method="post"
		  data-target="result"></span>
</body>
</html>
